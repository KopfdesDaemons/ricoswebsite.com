import{c as G,d as R}from"./chunk-HP5RVTU7.js";import{a as T}from"./chunk-JQ6B5SXE.js";import{a as P}from"./chunk-PLQ4DFKW.js";import{c as _,d as H}from"./chunk-HDYNTN7V.js";import{c as B,u as D}from"./chunk-YF5PBYPB.js";import{$b as r,Bb as L,Cb as o,Db as f,Eb as M,Ib as w,Kb as q,Mb as C,Oa as n,Ra as A,Sb as i,Tb as p,Ub as d,Ya as S,Zb as F,_ as e,ac as t,ea as u,f as m,fa as x,hc as y,kc as v,qa as h,ta as N,vb as k,wb as b,xa as g}from"./chunk-SRQQ6BZJ.js";var O={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]};var E=c=>[c];function I(c,s){c&1&&M(0,"div",1,0)}function U(c,s){if(c&1){let z=w();o(0,"div",2)(1,"button",3),q("click",function(){u(z);let a=C();return x(a.giveConsent())}),M(2,"fa-icon",4),o(3,"span"),i(4),r(5,"translate"),f()(),o(6,"span",5),i(7),r(8,"translate"),o(9,"a",6),i(10,"Disqus"),f(),i(11),r(12,"translate"),o(13,"a",7),i(14),r(15,"translate"),f(),i(16,"."),f()()}if(c&2){let z=C();n(2),L("icon",z.faComment),n(2),p(t(5,6,"load_comments")),n(3),d("",t(8,8,"disqus_privacy_notice")," "),n(4),d(". ",t(12,10,"for_more_details_see")," "),n(2),L("routerLink",F(14,E,"/"+z.languageS.userLanguage()+"/privacy-policy/.")),n(),p(t(15,12,"privacy_policy"))}}var e2=(()=>{let s=class s{constructor(){this.disqusS=e(G),this.renderer=e(A),this.elementRef=e(N),this.platformId=e(g),this.languageS=e(P),this.consentS=e(R),this.identifier=y(),this.disqusDiv=v("disqusDiv"),this.faComment=O}ngOnChanges(){B(this.platformId)&&(this.observer&&this.observer.disconnect(),this.identifier()&&this.consentS.checkConsent("Disqus")&&(this.observer=new IntersectionObserver(l=>{l.forEach(a=>m(this,null,function*(){a.isIntersecting&&(yield this.isVisible())}))}),this.observer.observe(this.elementRef.nativeElement)))}ngOnDestroy(){this.observer?.disconnect()}isVisible(){return m(this,null,function*(){let l=this.identifier();this.consentS.checkConsent("Disqus")&&l&&(yield this.disqusS.loadDisqus(this.renderer,l),this.observer?.disconnect())})}giveConsent(){return m(this,null,function*(){let l=this.identifier();l&&(this.consentS.giveConsent("Disqus"),this.observer?.disconnect(),yield this.disqusS.loadDisqus(this.renderer,l))})}};s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=S({type:s,selectors:[["app-disqus"]],inputs:{identifier:[1,"identifier"]},features:[h],decls:2,vars:1,consts:[["disqusDiv",""],["id","disqus_thread"],[1,"consentBanner"],[3,"click"],[3,"icon"],[1,"disclaimer"],["href","https://disqus.com/","target","_blank"],[3,"routerLink"]],template:function(a,W){a&1&&k(0,I,2,0,"div",1)(1,U,17,16,"div",2),a&2&&b(W.consentS.checkConsent("Disqus")?0:1)},dependencies:[T,D,H,_],styles:["#disqus_thread[_ngcontent-%COMP%]{padding:0 .5em}.consentBanner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1em;background-color:#c1c0ff;border-radius:4px;border:3px solid transparent;cursor:pointer;display:flex;gap:.5em;font-size:1.2em;transition:all .25s}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--font-color);border-color:#c1c0ff;background-color:transparent}.consentBanner[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:.8em;text-wrap:balance;text-align:center}"]});let c=s;return c})();export{e2 as DisqusComponent};
