import{k as l}from"./chunk-LOFVFHXP.js";import{P as a,U as r,ka as o,va as c}from"./chunk-5C5RMVSW.js";var f=(()=>{class t{constructor(){this.consentManagerIsOpen=o(!1,{}),this.platformId=r(c),this._possibleConsents=[{name:"Disqus",domains:["disqus.com"],descriptionTransString:"disqus_descr",_consent:this.initializeConsentSignal("Disqus")},{name:"CodePen",domains:["codepen.io","cdpn.io"],descriptionTransString:"codepen_descr",_consent:this.initializeConsentSignal("CodePen")},{name:"Custom Language Consent",domains:[],descriptionTransString:"custom_language",_consent:this.initializeConsentSignal("Custom Language Consent")}],this.possibleConsents=this._possibleConsents.map(n=>({name:n.name,domains:n.domains,descriptionTransString:n.descriptionTransString,consent:n._consent.asReadonly()}))}initializeConsentSignal(n){if(!l(this.platformId))return o(!1);let e=localStorage.getItem(n)==="true";return o(e)}findWritableSignal(n){return this._possibleConsents.find(e=>e.name===n)?._consent}giveConsent(n){localStorage.setItem(n,"true"),this.findWritableSignal(n)?.set(!0)}revokeConsent(n){localStorage.removeItem(n),this.findWritableSignal(n)?.set(!1);let e=this.possibleConsents.find(s=>s.name===n);e&&e.domains&&e.domains.forEach(s=>{this.deleteCookiesForDomain(s)})}deleteCookiesForDomain(n){document.cookie.split(";").forEach(s=>{let i=s.indexOf("="),d=i>-1?s.substring(0,i):s;document.cookie=d+`=; domain=${n}; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`})}openConsentManager(){this.consentManagerIsOpen.set(!0)}closeConsentManager(){this.consentManagerIsOpen.set(!1)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{f as a};
