import{k as d}from"./chunk-NCU52XL5.js";import{U as r,Z as c,ma as o,wa as l}from"./chunk-P6XYFBVA.js";var h=(()=>{let s=class s{constructor(){this.consentManagerIsOpen=o(!1),this.platformId=c(l),this._possibleConsents=[{name:"Disqus",domains:["disqus.com"],descriptionTransString:"disqus_descr",_consent:this.initializeConsentSignal("Disqus")},{name:"CodePen",domains:["codepen.io","cdpn.io"],descriptionTransString:"codepen_descr",_consent:this.initializeConsentSignal("CodePen")},{name:"Custom Language Consent",domains:[],descriptionTransString:"custom_language",_consent:this.initializeConsentSignal("Custom Language Consent")}],this.possibleConsents=this._possibleConsents.map(n=>({name:n.name,domains:n.domains,descriptionTransString:n.descriptionTransString,consent:n._consent.asReadonly()}))}initializeConsentSignal(n){if(!d(this.platformId))return o(!1);let e=localStorage.getItem(n)==="true";return o(e)}findWritableSignal(n){return this._possibleConsents.find(e=>e.name===n)?._consent}giveConsent(n){localStorage.setItem(n,"true"),this.findWritableSignal(n)?.set(!0)}revokeConsent(n){localStorage.removeItem(n),this.findWritableSignal(n)?.set(!1);let e=this.possibleConsents.find(t=>t.name===n);e&&e.domains&&e.domains.forEach(t=>{this.deleteCookiesForDomain(t)})}deleteCookiesForDomain(n){document.cookie.split(";").forEach(t=>{let a=t.indexOf("="),g=a>-1?t.substring(0,a):t;document.cookie=g+`=; domain=${n}; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`})}openConsentManager(){this.consentManagerIsOpen.set(!0)}closeConsentManager(){this.consentManagerIsOpen.set(!1)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=r({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{h as a};
