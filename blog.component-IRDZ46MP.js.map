{
  "version": 3,
  "sources": ["src/app/components/blogpost-card/blogpost-card.component.ts", "src/app/components/blogpost-card/blogpost-card.component.html", "src/app/routes/blog/blog.component.ts", "src/app/routes/blog/blog.component.html"],
  "sourcesContent": ["import { Component, inject, input } from '@angular/core';\nimport { LanguageService } from 'src/app/services/language.service';\nimport { RouterLink } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { PostMeta } from 'src/app/models/post-meta.model';\n\n@Component({\n  selector: 'app-blogpost-card',\n  templateUrl: './blogpost-card.component.html',\n  styleUrls: ['./blogpost-card.component.scss'],\n  imports: [RouterLink, TranslateModule],\n})\nexport class BlogpostCardComponent {\n  languageS = inject(LanguageService);\n  postMeta = input.required<PostMeta>();\n}\n", "<div class=\"card\">\n    @if (postMeta().image) {\n    <a class=\"imageContainer\" [routerLink]=\"['/' + languageS.userLanguage + '/blogpost/' + postMeta().fileName + '/.']\">\n        <img src=\"{{ postMeta().image }}\" alt=\"{{ postMeta().title }}\" />\n    </a>\n    }\n    <div class=\"content\">\n        <a class=\"titleLink\" [routerLink]=\"['/' + languageS.userLanguage + '/blogpost/' + postMeta().fileName + '/.']\">\n            <h2>{{ postMeta().title }}</h2>\n        </a>\n        @if (postMeta().date) {\n        <span class=\"date\">{{ postMeta().localDateString }}</span>\n        }\n        <p>{{ postMeta().description }}</p>\n        @if (postMeta().keywords) {\n        <ul class=\"keywords\">\n            @for (keyword of postMeta().keywords; track keyword) {\n            <li>{{ keyword }}</li>\n            }\n        </ul>\n        }\n        <a class=\"readMore\" [routerLink]=\"['/' + languageS.userLanguage + '/blogpost/' + postMeta().fileName]\">{{ \"read_more\" | translate }}</a>\n    </div>\n</div>\n", "import { Component, OnInit, inject } from '@angular/core';\r\nimport { Meta, Title } from '@angular/platform-browser';\r\nimport { ActivatedRoute, RouterLink } from '@angular/router';\r\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\r\nimport { Subscription, lastValueFrom } from 'rxjs';\r\nimport { Post } from 'src/app/models/post.model';\r\nimport { LanguageService } from 'src/app/services/language.service';\r\nimport { PostService } from 'src/app/services/post.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BlogpostCardComponent } from '../../components/blogpost-card/blogpost-card.component';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-blog',\r\n  templateUrl: './blog.component.html',\r\n  styleUrls: ['./blog.component.scss'],\r\n  imports: [FormsModule, BlogpostCardComponent, RouterLink, TranslateModule],\r\n})\r\nexport class BlogComponent implements OnInit {\r\n  private postS = inject(PostService);\r\n  languageS = inject(LanguageService);\r\n  private route = inject(ActivatedRoute);\r\n  private title = inject(Title);\r\n  private meta = inject(Meta);\r\n  private translate = inject(TranslateService);\r\n\r\n  postsList: Post[] = [];\r\n  currentPage: number = 1;\r\n  pageSize: number = 5;\r\n  sortOrder: 'desc' | 'asc' = 'desc';\r\n  sortBy: 'date' | 'title' = 'date';\r\n  totalPages: number = 1;\r\n  private routeParamsSubscription: Subscription | undefined;\r\n\r\n  ngOnInit(): void {\r\n    // when route changes\r\n    this.routeParamsSubscription = this.route.params.subscribe(async () => {\r\n      const page = this.route.snapshot.paramMap.get('page');\r\n      if (page) this.currentPage = Number(page);\r\n\r\n      await this.loadPostsList();\r\n      await this.setMetaTags();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.routeParamsSubscription) {\r\n      this.routeParamsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  async setMetaTags() {\r\n    const title = await lastValueFrom(this.translate.get('blog_h1'));\r\n    this.title.setTitle(title);\r\n    this.meta.addTag({ name: 'description', content: title });\r\n  }\r\n\r\n  async loadPostsList() {\r\n    try {\r\n      const { posts, totalPages } = await this.postS.loadPostList(this.languageS.userLanguage, this.currentPage, this.pageSize, this.sortOrder, this.sortBy);\r\n      this.postsList = posts;\r\n      this.totalPages = totalPages;\r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error instanceof HttpErrorResponse) {\r\n        if (error.status === 404 && this.languageS.userLanguage !== 'en') {\r\n          // try to load posts in english\r\n          await this.postS.loadPostList('en', this.currentPage, this.pageSize, this.sortOrder, this.sortBy);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public async sort(event: any) {\r\n    const [sortBy, sortOrder] = event.target.value.split(' ');\r\n    this.sortBy = sortBy;\r\n    this.sortOrder = sortOrder;\r\n    await this.loadPostsList();\r\n  }\r\n}\r\n", "<main>\r\n    <section>\r\n        <h1>{{ \"blog_h1\" | translate }}</h1>\r\n        <div class=\"options\">\r\n            <select (change)=\"sort($event)\">\r\n                <option value=\"date desc\">{{ \"date_desc\" | translate }}</option>\r\n                <option value=\"date asc\">{{ \"date_asc\" | translate }}</option>\r\n                <option value=\"title asc\">{{ \"title_asc\" | translate }}</option>\r\n                <option value=\"title desc\">{{ \"title_desc\" | translate }}</option>\r\n            </select>\r\n        </div>\r\n        <ul class=\"feed\">\r\n            @for (post of postsList; track post) {\r\n                <li>\r\n                    <app-blogpost-card [postMeta]=\"post.postMeta\"></app-blogpost-card>\r\n                </li>\r\n            }\r\n        </ul>\r\n        @if (totalPages > 1) {\r\n            <ul class=\"pagination\">\r\n                @for (page of [].constructor(totalPages); track $index; let i = $index) {\r\n                    <li>\r\n                        @if (currentPage != i + 1) {\r\n                            <a [routerLink]=\"['/' + languageS.userLanguage + '/blog/page/' + (i + 1)] + '/.'\">{{ i + 1 }}</a>\r\n                        }\r\n                        @if (currentPage === i + 1) {\r\n                            <span>{{ i + 1 }}</span>\r\n                        }\r\n                    </li>\r\n                }\r\n            </ul>\r\n        }\r\n    </section>\r\n</main>\r\n"],
  "mappings": "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",
  "names": ["_c0"]
}
