import{a as F,b as D}from"./chunk-4J4LNLWG.js";import{a as f}from"./chunk-U7HTIPXG.js";import{a as m}from"./chunk-WNUK4EIW.js";import{c as V,d as z}from"./chunk-W7RRUETD.js";import{q as A}from"./chunk-W6AR63SX.js";import{k as j}from"./chunk-W6KHYPYV.js";import{$ as _,Ab as g,Eb as B,Gb as k,Ib as h,Ma as a,Mb as o,Nb as C,Ob as v,P as S,Ta as y,U as i,Wb as T,Yb as d,Za as O,Zb as p,_ as q,aa as b,ac as u,ba as x,dc as E,fc as R,ma as l,ra as w,rb as I,sb as P,va as M,xb as L,yb as s,zb as c}from"./chunk-PFRJ2KGM.js";var N=(()=>{class e{constructor(){this.scriptS=i(F),this.languageS=i(f),this.consentS=i(m),this.disqusConsent=u(()=>this.consentS.possibleConsents.find(t=>t.name==="Disqus")?.consent()??!1,{}),l(()=>{this.disqusConsent()||this.removeDisqus()})}async loadDisqus(t,n){this.disqus=window.DISQUS;let r=this.languageS.userLanguage();this.disqus?window.DISQUS.reset({reload:!0,config:function(){this.page.identifier=n,this.language=r}}):(window.disqus_config=function(){this.page.identifier=n,this.language=r},await this.scriptS.addJsScript(t,"https://"+D+".disqus.com/embed.js"))}removeDisqus(){this.scriptS.removeJsScript("https://"+D+".disqus.com/embed.js"),window.DISQUS=void 0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var H=e=>[e];function J(e,Q){e&1&&g(0,"div",1,0)}function G(e,Q){if(e&1){let t=B();s(0,"div",2)(1,"button",3),k("click",function(){q(t);let r=h();return _(r.giveConsent())}),b(),s(2,"svg",4),g(3,"path",5),c(),x(),s(4,"span"),o(5),d(6,"translate"),c()(),s(7,"span",6),o(8),d(9,"translate"),s(10,"a",7),o(11,"Disqus"),c(),o(12),d(13,"translate"),s(14,"a",8),o(15),d(16,"translate"),c(),o(17,"."),c()()}if(e&2){let t=h();a(5),C(p(6,5,"load_comments")),a(3),v("",p(9,7,"disqus_privacy_notice")," "),a(4),v(". ",p(13,9,"for_more_details_see")," "),a(2),L("routerLink",T(13,H,"/"+t.languageS.userLanguage()+"/privacy-policy/.")),a(),C(p(16,11,"privacy_policy"))}}var le=(()=>{class e{constructor(){this.disqusS=i(N),this.renderer=i(y),this.elementRef=i(w),this.platformId=i(M),this.consentS=i(m),this.languageS=i(f),this.identifier=E(void 0,{}),this.disqusDiv=R("disqusDiv"),this.observer=null,this.hasDisqusConsent=u(()=>this.consentS.possibleConsents.find(t=>t.name==="Disqus")?.consent()??!1,{}),l(()=>this.setupObserver())}setupObserver(){j(this.platformId)&&this.identifier()&&(this.observer=new IntersectionObserver(async t=>{t[0].isIntersecting&&this.hasDisqusConsent()&&this.identifier()&&await this.loadDisqusAndDisconnectObserver()}),this.observer.observe(this.elementRef.nativeElement))}ngOnDestroy(){this.observer?.disconnect()}async giveConsent(){this.identifier()&&(this.consentS.giveConsent("Disqus"),await this.loadDisqusAndDisconnectObserver())}async loadDisqusAndDisconnectObserver(){this.observer?.disconnect(),await this.disqusS.loadDisqus(this.renderer,this.identifier())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=O({type:e,selectors:[["app-disqus"]],inputs:{identifier:[1,"identifier"]},decls:2,vars:1,consts:[["disqusDiv",""],["id","disqus_thread"],[1,"consentBanner"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["fill","currentColor","d","M115.9 448.9C83.3 408.6 64 358.4 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304C576 436.5 461.4 544 320 544C283.5 544 248.8 536.8 217.4 524L101 573.9C97.3 575.5 93.5 576 89.5 576C75.4 576 64 564.6 64 550.5C64 546.2 65.1 542 67.1 538.3L115.9 448.9zM153.2 418.7C165.4 433.8 167.3 454.8 158 471.9L140 505L198.5 479.9C210.3 474.8 223.7 474.7 235.6 479.6C261.3 490.1 289.8 496 319.9 496C437.7 496 527.9 407.2 527.9 304C527.9 200.8 437.8 112 320 112C202.2 112 112 200.8 112 304C112 346.8 127.1 386.4 153.2 418.7z"],[1,"disclaimer"],["href","https://disqus.com/","target","_blank"],[3,"routerLink"]],template:function(n,r){n&1&&I(0,J,2,0,"div",1)(1,G,18,15,"div",2),n&2&&P(r.hasDisqusConsent()?0:1)},dependencies:[A,z,V],styles:["#disqus_thread[_ngcontent-%COMP%]{padding:0 .5em}.consentBanner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1em;background-color:#c1c0ff;border-radius:4px;border:3px solid transparent;cursor:pointer;display:flex;align-items:center;gap:.5em;font-size:1.2em;transition:all .25s}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--font-color);border-color:#c1c0ff;background-color:transparent}.consentBanner[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:.8em;text-wrap:balance;text-align:center}"],changeDetection:0})}}return e})();export{le as DisqusComponent};
