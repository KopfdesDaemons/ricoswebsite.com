import{c as z,d as F}from"./chunk-MQA3ED4H.js";import{a as R}from"./chunk-OWZYVNKW.js";import{c as T,d as V}from"./chunk-TF5TYL7V.js";import{c as I,u as E}from"./chunk-5HCMFROV.js";import{$ as v,$b as L,Bb as O,Db as P,Fb as u,Ha as a,Ib as o,Jb as f,Ka as S,Kb as C,Pb as k,Ra as D,Rb as d,Sb as l,T as s,Z as g,Zb as B,_ as h,aa as _,ja as x,ma as b,ob as M,pb as w,qa as q,ub as y,vb as r,wb as c,xb as m}from"./chunk-C7F2T4HE.js";import"./chunk-C6Q5SG76.js";var j=e=>[e];function A(e,n){e&1&&m(0,"div",1,0)}function G(e,n){if(e&1){let p=O();r(0,"div",2)(1,"button",3),P("click",function(){g(p);let i=u();return h(i.giveConsent())}),v(),r(2,"svg",4),m(3,"path",5),c(),_(),r(4,"span"),o(5),d(6,"translate"),c()(),r(7,"span",6),o(8),d(9,"translate"),r(10,"a",7),o(11,"Disqus"),c(),o(12),d(13,"translate"),r(14,"a",8),o(15),d(16,"translate"),c(),o(17,"."),c()()}if(e&2){let p=u();a(5),f(l(6,5,"load_comments")),a(3),C("",l(9,7,"disqus_privacy_notice")," "),a(4),C(". ",l(13,9,"for_more_details_see")," "),a(2),y("routerLink",k(13,j,"/"+p.languageS.userLanguage()+"/privacy-policy/.")),a(),f(l(16,11,"privacy_policy"))}}var ee=(()=>{let n=class n{constructor(){this.disqusS=s(z),this.renderer=s(S),this.elementRef=s(b),this.platformId=s(q),this.languageS=s(R),this.consentS=s(F),this.identifier=B(),this.disqusDiv=L("disqusDiv")}ngOnChanges(){I(this.platformId)&&(this.observer&&this.observer.disconnect(),this.identifier()&&this.consentS.checkConsent("Disqus")&&(this.observer=new IntersectionObserver(t=>{t.forEach(async i=>{i.isIntersecting&&await this.isVisible()})}),this.observer.observe(this.elementRef.nativeElement)))}ngOnDestroy(){this.observer?.disconnect()}async isVisible(){let t=this.identifier();this.consentS.checkConsent("Disqus")&&t&&(await this.disqusS.loadDisqus(this.renderer,t),this.observer?.disconnect())}async giveConsent(){let t=this.identifier();t&&(this.consentS.giveConsent("Disqus"),this.observer?.disconnect(),await this.disqusS.loadDisqus(this.renderer,t))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=D({type:n,selectors:[["app-disqus"]],inputs:{identifier:[1,"identifier"]},features:[x],decls:2,vars:1,consts:[["disqusDiv",""],["id","disqus_thread"],[1,"consentBanner"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["fill","currentColor","d","M115.9 448.9C83.3 408.6 64 358.4 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304C576 436.5 461.4 544 320 544C283.5 544 248.8 536.8 217.4 524L101 573.9C97.3 575.5 93.5 576 89.5 576C75.4 576 64 564.6 64 550.5C64 546.2 65.1 542 67.1 538.3L115.9 448.9zM153.2 418.7C165.4 433.8 167.3 454.8 158 471.9L140 505L198.5 479.9C210.3 474.8 223.7 474.7 235.6 479.6C261.3 490.1 289.8 496 319.9 496C437.7 496 527.9 407.2 527.9 304C527.9 200.8 437.8 112 320 112C202.2 112 112 200.8 112 304C112 346.8 127.1 386.4 153.2 418.7z"],[1,"disclaimer"],["href","https://disqus.com/","target","_blank"],[3,"routerLink"]],template:function(i,N){i&1&&M(0,A,2,0,"div",1)(1,G,18,15,"div",2),i&2&&w(N.consentS.checkConsent("Disqus")?0:1)},dependencies:[E,V,T],styles:["#disqus_thread[_ngcontent-%COMP%]{padding:0 .5em}.consentBanner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1em;background-color:#c1c0ff;border-radius:4px;border:3px solid transparent;cursor:pointer;display:flex;align-items:center;gap:.5em;font-size:1.2em;transition:all .25s}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--font-color);border-color:#c1c0ff;background-color:transparent}.consentBanner[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:.8em;text-wrap:balance;text-align:center}"]});let e=n;return e})();export{ee as DisqusComponent};
