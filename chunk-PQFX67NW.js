import{a as Q,b as q}from"./chunk-SH5W3XHG.js";import{a as g}from"./chunk-4TLW7FTG.js";import{a as f}from"./chunk-74B255KG.js";import{c as F,d as N}from"./chunk-LGVXDRNZ.js";import{q as z}from"./chunk-DB6AOJU4.js";import{k as V}from"./chunk-NCU52XL5.js";import{Ab as k,Bb as o,Cb as c,Db as C,Hb as T,Jb as E,Lb as v,Na as a,Ob as r,Pb as S,Qa as I,Qb as D,U as _,Vb as R,Xa as P,Xb as d,Yb as l,Z as s,ac as u,bc as m,da as b,ea as x,ec as j,fa as w,ga as M,gc as A,sa as y,ub as L,vb as B,wa as O}from"./chunk-P6XYFBVA.js";var U=(()=>{let e=class e{constructor(){this.scriptS=s(Q),this.languageS=s(g),this.consentS=s(f),this.disqusConsent=u(()=>this.consentS.possibleConsents.find(i=>i.name==="Disqus")?.consent()??!1),m(()=>{this.disqusConsent()||this.removeDisqus()})}async loadDisqus(i,n){this.disqus=window.DISQUS;let p=this.languageS.userLanguage();this.disqus?window.DISQUS.reset({reload:!0,config:function(){this.page.identifier=n,this.language=p}}):(window.disqus_config=function(){this.page.identifier=n,this.language=p},await this.scriptS.addJsScript(i,"https://"+q+".disqus.com/embed.js"))}removeDisqus(){this.scriptS.removeJsScript("https://"+q+".disqus.com/embed.js"),window.DISQUS=void 0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J=t=>[t];function G(t,e){t&1&&C(0,"div",1,0)}function K(t,e){if(t&1){let h=T();o(0,"div",2)(1,"button",3),E("click",function(){b(h);let n=v();return x(n.giveConsent())}),w(),o(2,"svg",4),C(3,"path",5),c(),M(),o(4,"span"),r(5),d(6,"translate"),c()(),o(7,"span",6),r(8),d(9,"translate"),o(10,"a",7),r(11,"Disqus"),c(),r(12),d(13,"translate"),o(14,"a",8),r(15),d(16,"translate"),c(),r(17,"."),c()()}if(t&2){let h=v();a(5),S(l(6,5,"load_comments")),a(3),D("",l(9,7,"disqus_privacy_notice")," "),a(4),D(". ",l(13,9,"for_more_details_see")," "),a(2),k("routerLink",R(13,J,"/"+h.languageS.userLanguage()+"/privacy-policy/.")),a(),S(l(16,11,"privacy_policy"))}}var ue=(()=>{let e=class e{constructor(){this.disqusS=s(U),this.renderer=s(I),this.elementRef=s(y),this.platformId=s(O),this.consentS=s(f),this.languageS=s(g),this.identifier=j(),this.disqusDiv=A("disqusDiv"),this.observer=null,this.hasDisqusConsent=u(()=>this.consentS.possibleConsents.find(i=>i.name==="Disqus")?.consent()??!1),m(()=>this.setupObserver())}setupObserver(){V(this.platformId)&&this.identifier()&&(this.observer=new IntersectionObserver(async i=>{i[0].isIntersecting&&this.hasDisqusConsent()&&this.identifier()&&await this.loadDisqusAndDisconnectObserver()}),this.observer.observe(this.elementRef.nativeElement))}ngOnDestroy(){this.observer?.disconnect()}async giveConsent(){this.identifier()&&(this.consentS.giveConsent("Disqus"),await this.loadDisqusAndDisconnectObserver())}async loadDisqusAndDisconnectObserver(){this.observer?.disconnect(),await this.disqusS.loadDisqus(this.renderer,this.identifier())}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=P({type:e,selectors:[["app-disqus"]],inputs:{identifier:[1,"identifier"]},decls:2,vars:1,consts:[["disqusDiv",""],["id","disqus_thread"],[1,"consentBanner"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["fill","currentColor","d","M115.9 448.9C83.3 408.6 64 358.4 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304C576 436.5 461.4 544 320 544C283.5 544 248.8 536.8 217.4 524L101 573.9C97.3 575.5 93.5 576 89.5 576C75.4 576 64 564.6 64 550.5C64 546.2 65.1 542 67.1 538.3L115.9 448.9zM153.2 418.7C165.4 433.8 167.3 454.8 158 471.9L140 505L198.5 479.9C210.3 474.8 223.7 474.7 235.6 479.6C261.3 490.1 289.8 496 319.9 496C437.7 496 527.9 407.2 527.9 304C527.9 200.8 437.8 112 320 112C202.2 112 112 200.8 112 304C112 346.8 127.1 386.4 153.2 418.7z"],[1,"disclaimer"],["href","https://disqus.com/","target","_blank"],[3,"routerLink"]],template:function(n,p){n&1&&L(0,G,2,0,"div",1)(1,K,18,15,"div",2),n&2&&B(p.hasDisqusConsent()?0:1)},dependencies:[z,N,F],styles:["#disqus_thread[_ngcontent-%COMP%]{padding:0 .5em}.consentBanner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1em;background-color:#c1c0ff;border-radius:4px;border:3px solid transparent;cursor:pointer;display:flex;align-items:center;gap:.5em;font-size:1.2em;transition:all .25s}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1.5em}.consentBanner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--font-color);border-color:#c1c0ff;background-color:transparent}.consentBanner[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:.8em;text-wrap:balance;text-align:center}"],changeDetection:0});let t=e;return t})();export{ue as DisqusComponent};
